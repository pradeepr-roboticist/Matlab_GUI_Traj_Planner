function T = iiwa_FK_pairs(targetJoints, base_T)
% analytical
    wT1 = [
         [1     0     0     0];
         [0     1     0     0];
         [0     0     1     0];
         [0     0     0     1];   
    ];
    wT2 = [
        [1.0000         0         0         0];
        [     0    1.0000         0         0];
        [     0         0    1.0000    0.1500];
        [     0         0         0    1.0000];      
    ];
    wT3 = [
       [-1.0000    0.0000   -0.0000         0];
       [-0.0000   -0.0000    1.0000         0];
       [      0    1.0000    0.0000    0.3400];
       [      0         0         0    1.0000];     
    ];
    wT4 = [
        [1.0000   -0.0000    0.0000    0.0000];
        [0.0000    1.0000    0.0000   -0.0000];
       [-0.0000         0    1.0000    0.5500];
       [      0         0         0    1.0000];    
    ];
    wT5 = [
        [1.0000    0.0000    0.0000    0.0000];
        [0.0000    0.0000   -1.0000   -0.0000];
       [-0.0000    1.0000    0.0000    0.7400];
       [      0         0         0    1.0000];    
    ];
    wT6 = [
       [-1.0000    0.0000    0.0000    0.0000];
       [-0.0000   -1.0000    0.0000    0.0000];
        [0.0000    0.0000    1.0000    0.9500];
        [     0         0         0    1.0000];    
    ];
    wT7 = [
        [-1.0000    0.0000   -0.0000    0.0000];
        [-0.0000    0.0000    1.0000   -0.0607];
        [0.0000    1.0000   -0.0000    1.1400];
        [     0         0         0    1.0000];  
    ];
    wT8 = [
        [1.0000   -0.0000    0.0000    0.0000];
        [0.0000    1.0000    0.0000    0.0000];
       [-0.0000    0.0000    1.0000    1.2210];
        [     0         0         0    1.0000];    
    ];
    wT9 = [
        1.0000   -0.0000    0.0000    0.0000;
        0.0000    1.0000    0.0000    0.0000;
       -0.0000    0.0000    1.0000    1.2660;
             0         0         0    1.0000;    
    ];

    T12 = wT1 \ wT2 * ROTZ(targetJoints(1)) ;
    T23 = wT2 \ wT3 * ROTZ(targetJoints(2)) ;
    T34 = wT3 \ wT4 * ROTZ(targetJoints(3)) ;
    T45 = wT4 \ wT5 * ROTZ(targetJoints(4)) ;
    T56 = wT5 \ wT6 * ROTZ(targetJoints(5)) ;
    T67 = wT6 \ wT7 * ROTZ(targetJoints(6)) ;
    T78 = wT7 \ wT8 * ROTZ(targetJoints(7)) ;
    T89 = wT8 \ wT9;    

    T = {T12,T23,T34,T45,T56,T67,T78,T89};

end

function [ rot_mat ] = ROTZ( theta )
%ROTZ -
%   Calculate 3*3 rotation matrix along z axis with theta radian
    rot_mat = [cos(theta) -sin(theta) 0 0; sin(theta) cos(theta) 0 0;...
        0 0 1 0; 0 0 0 1];
end